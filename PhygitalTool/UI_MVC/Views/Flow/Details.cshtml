@using Phygital.Domain.Datatypes
@using Phygital.Domain.Questionsprocess;
@model Flow

@{
    ViewBag.Title = "Flow Process";
    Layout = "_Layout";
}

<div id="flowId" class="white-text">@Model.Id</div>
<h2 class="text-center">Antwoord op volgende vragen alstublieft</h2>
@{
    if (@Model.FlowType == Flowtype.linear)
    {
        // Hier vragen we het aantal users en gebruiken we dit voor het aantal antwoorden
        <form id="userCountSection" class="form-group visible">
            <label for="userCount">Aantal gebruikers:</label>
            <input type="range" class="form-control-range" id="userCount" name="userCount" min="1" max="4" data-option-0="Zwaar voor" data-option-1="1" data-option-2="2" data-option-3="3" data-option-4="4" oninput="updateLabel(this, 'rangeLabel')">
            <label id="rangeLabel" for="userCount">1</label>
            <button id="submitUserCount" class="btn btn-primary">Begin vragen</button>
        </form>



        //data-bs-ride="carousel" dit van onder weg zodat de carousel nie beweegt
        <div id="linearFlow" class="carousel slide spacing-top visible" >
            
            <div class="carousel-inner">
                <div id="questions"></div>
            </div>
            <div class="progress">
                <div id="progressBar" class="progress-bar yellow-color" role="progressbar" style="width: 10%" aria-valuenow="10" aria-valuemin="10" aria-valuemax="100"></div>
            </div>

            <div class="row">
                <div class="col text-start">
                    <button id="prevBtn" class="btn btn-danger btn-flow-details spacing-top" data-bs-target="#linearFlow" data-bs-slide="prev">Terug</button>
                </div>
                <div class="col text-end">
                    <button id="nextBtn" class="btn btn-success btn-flow-details spacing-top" data-bs-target="#linearFlow" data-bs-slide="next">Verder</button>
                </div>
            </div>
        </div>
    } else if (@Model.FlowType == Flowtype.circular)
    {
        <div id="timer" class="timer clock ">10</div>

        <div id="circularFlow" class="carousel slide spacing-top">

            <div class="carousel-inner">
                <div id="questions"></div>
            </div>
            <div class="progress">
                <div id="progressBar" class="progress-bar yellow-color" role="progressbar" style="width: 0%" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"></div>
            </div>


        </div>
    }
    
}

@*succes message for user*@
<div id ="end-box" class="text-dark-emphasis"></div>
<div class="text-center">
        <a asp-controller="Endpage" asp-action="Index" class="btn btn-warning btn-flow-details spacing-top" id="answerFlow">Verzenden</a>
</div>

<h3 class="text-center spacing-top">Hier is vervolgens informatie die u kan helpen</h3>

<div class="accordion row spacing-top" id="infoAccordion"> </div>


@section Scripts
{    
    <script src="~/dist/details.entry.js" defer></script>
    @{
        if (Model.FlowType == Flowtype.linear)
        {
            <script src="~/dist/linear.entry.js" defer></script>
        }
        else
        {
            <script src="~/dist/circular.entry.js" defer></script>
        }
    }
   
}